# PCパーツ価格差・自動分析ツール

## 1. 概要

AmazonでのPCパーツせどりを効率化するため、価格.comとAmazonの商品価格を自動で比較し、設定した利益率を上回る商品を見つけ出すことを目的とした、ローカルで動作するWebアプリケーションです。

## 2. 機能仕様

- **WebベースのUI:**
  - ユーザーは自身のPCでサーバーを起動し、ブラウザから `http://127.0.0.1:5000` にアクセスしてツールを操作します。
- **価格.comとの連携:**
  - ユーザーが指定したPCパーツ・周辺機器カテゴリのスペック検索ページを自動で巡回し、商品情報を収集します。
- **Amazonとの価格比較:**
  - 取得した商品名をもとに、Amazonでの販売価格を自動で検索・比較します。
- **利益率でのフィルタリング:**
  - 「仕入れ値に対し、Amazonでの販売価格が何%以上か」という利益率のしきい値を、ユーザーが自由に設定できます。
- **堅牢なスクレイピング:**
  - 強固なボット対策を回避するため、ステルス性能に特化した `undetected-chromedriver` を採用。
  - データの取りこぼしを防ぐため、Amazonの価格取得時にはリトライ処理を実行します。
- **高度な絞り込み機能:**
  - カテゴリ選択に連動して、メーカーのドロップダウンが動的に更新されます。
  - メーカー、キーワード、並び順を指定して、詳細な絞り込み検索が可能です。

## 3. 技術スタック

- **バックエンド:** Python, Flask
- **Webスクレイピング:** undetected-chromedriver, Selenium, BeautifulSoup4
- **実行環境:** ローカルPC

## 4. 現在の使い方

1.  コマンドプロンプトで `venv\Scripts\python.exe web_server.py` を実行し、ローカルサーバーを起動します。
2.  ブラウザで `http://127.0.0.1:5000` を開きます。
3.  表示されたフォームで、以下の項目を設定します。
    *   **調査するカテゴリ:** ドロップダウンから選択します。（必須）
    *   **メーカー:** カテゴリに連動して表示されるメーカーから選択します。（任意）
    *   **絞り込みキーワード:** カテゴリ内で、さらに絞り込みたいキーワードを入力します。（任意）
    *   **比較件数:** 価格.comで見つかった商品のうち、上位何件をAmazonと比較するかを指定します。
    *   **利益率(%):** ここで指定した利益率を上回る商品のみが、最終的な結果に表示されます。
4.  「比較開始」ボタンをクリックします。
5.  処理が完了すると、条件に合致した商品だけが、画面に一覧表示されます。

## 5. 今後の展望 (Next Steps)

- **詳細検索機能の拡張:**
  - 現在のメーカー絞り込みに加え、価格.comのスペック検索ページにある、**その他の詳細な絞り込み項目（チップセット、フォームファクタ、価格帯など）**をWebアプリのUIに追加し、完全な自動絞り込みを実現する。
- **対象サイトの追加:**
  - Amazon以外のECサイト（楽天、Yahoo!ショッピングなど）を、新たな比較対象として追加する。
- **価格データの永続化:**
  - 取得した価格データを、CSVファイルやデータベースに保存し、過去の価格変動を追跡・分析できる機能を追加する。